<map version="freeplane 1.8.0">
<!--To view this file, download free mind mapping software Freeplane from http://freeplane.sourceforge.net -->
<node TEXT="asyncio" LOCALIZED_STYLE_REF="AutomaticLayout.level.root" FOLDED="false" ID="ID_1723255651" CREATED="1283093380553" MODIFIED="1609762410544" STYLE="bubble">
<font NAME="Noto Sans S Chinese Light" SIZE="14"/>
<hook NAME="MapStyle" zoom="1.077">
    <properties show_icon_for_attributes="true" fit_to_viewport="false" show_note_icons="true" edgeColorConfiguration="#808080ff,#ff0000ff,#0000ffff,#00ff00ff,#ff00ffff,#00ffffff,#7c0000ff,#00007cff,#007c00ff,#7c007cff,#007c7cff,#7c7c00ff"/>

<map_styles>
<stylenode LOCALIZED_TEXT="styles.root_node" STYLE="oval" UNIFORM_SHAPE="true" VGAP_QUANTITY="24.0 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="24"/>
<stylenode LOCALIZED_TEXT="styles.predefined" POSITION="right" STYLE="bubble" VGAP_QUANTITY="6.8999999999999995 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="12"/>
<stylenode LOCALIZED_TEXT="default" ICON_SIZE="12.0 pt" COLOR="#000000" STYLE="combined" BORDER_WIDTH="3.0 px" MAX_WIDTH="10.1 cm" MIN_WIDTH="0.0 cm" VGAP_QUANTITY="6.8999999999999995 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="12" BOLD="false" ITALIC="false"/>
<edge STYLE="sharp_bezier" WIDTH="7"/>
</stylenode>
<stylenode LOCALIZED_TEXT="defaultstyle.details" VGAP_QUANTITY="6.8999999999999995 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="12"/>
</stylenode>
<stylenode LOCALIZED_TEXT="defaultstyle.attributes" VGAP_QUANTITY="6.8999999999999995 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="12"/>
</stylenode>
<stylenode LOCALIZED_TEXT="defaultstyle.note" COLOR="#000000" BACKGROUND_COLOR="#ffffff" TEXT_ALIGN="LEFT" VGAP_QUANTITY="6.8999999999999995 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="12"/>
</stylenode>
<stylenode LOCALIZED_TEXT="defaultstyle.floating" VGAP_QUANTITY="6.8999999999999995 pt">
<edge STYLE="hide_edge"/>
<cloud COLOR="#f0f0f0" SHAPE="ROUND_RECT"/>
<font NAME="Noto Sans S Chinese Light" SIZE="12"/>
</stylenode>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.user-defined" POSITION="right" STYLE="bubble" VGAP_QUANTITY="6.8999999999999995 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="12"/>
<stylenode LOCALIZED_TEXT="styles.ok" VGAP_QUANTITY="6.8999999999999995 pt">
<icon BUILTIN="button_ok"/>
<font NAME="Noto Sans S Chinese Light" SIZE="12"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.needs_action" VGAP_QUANTITY="6.8999999999999995 pt">
<icon BUILTIN="messagebox_warning"/>
<font NAME="Noto Sans S Chinese Light" SIZE="12"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.floating_node" VGAP_QUANTITY="6.8999999999999995 pt">
<edge STYLE="hide_edge"/>
<cloud COLOR="#f0f0f0" SHAPE="ROUND_RECT"/>
<font NAME="Noto Sans S Chinese Light" SIZE="12"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.topic" COLOR="#18898b" STYLE="fork" VGAP_QUANTITY="6.8999999999999995 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="12" BOLD="true"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.subtopic" COLOR="#cc3300" STYLE="fork" VGAP_QUANTITY="6.8999999999999995 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="12" BOLD="true"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.subsubtopic" COLOR="#669900" VGAP_QUANTITY="6.8999999999999995 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="12" BOLD="true"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.connection" COLOR="#606060" STYLE="fork" VGAP_QUANTITY="6.8999999999999995 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="12" BOLD="false"/>
<cloud COLOR="#f0f0f0" SHAPE="ROUND_RECT"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.important" COLOR="#ff0000" VGAP_QUANTITY="6.8999999999999995 pt">
<icon BUILTIN="yes"/>
<font NAME="Noto Sans S Chinese Light" SIZE="12"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.question" VGAP_QUANTITY="6.8999999999999995 pt">
<icon BUILTIN="help"/>
<font NAME="Noto Sans S Chinese Light" SIZE="12"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.key" COLOR="#996600" VGAP_QUANTITY="6.8999999999999995 pt">
<icon BUILTIN="password"/>
<font NAME="Noto Sans S Chinese Light" SIZE="12" BOLD="false"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.idea" VGAP_QUANTITY="6.8999999999999995 pt">
<icon BUILTIN="idea"/>
<font NAME="Noto Sans S Chinese Light" SIZE="12"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.note" COLOR="#990000" VGAP_QUANTITY="6.8999999999999995 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="12"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.date" COLOR="#0033ff" VGAP_QUANTITY="6.8999999999999995 pt">
<icon BUILTIN="calendar"/>
<font NAME="Noto Sans S Chinese Light" SIZE="12"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.website" COLOR="#006633" VGAP_QUANTITY="6.8999999999999995 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="12"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.list" COLOR="#cc6600" VGAP_QUANTITY="6.8999999999999995 pt">
<icon BUILTIN="list"/>
<font NAME="Noto Sans S Chinese Light" SIZE="12" BOLD="true"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.quotation" COLOR="#338800" STYLE="fork" VGAP_QUANTITY="6.8999999999999995 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="12" BOLD="false" ITALIC="false"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.definition" COLOR="#666600" VGAP_QUANTITY="6.8999999999999995 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="12" BOLD="false"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.description" COLOR="#996600" VGAP_QUANTITY="6.8999999999999995 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="12" BOLD="false"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.pending" COLOR="#b3b95c" VGAP_QUANTITY="6.8999999999999995 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="12"/>
</stylenode>
<stylenode TEXT="代码" COLOR="#c0fdce" BACKGROUND_COLOR="#000000" VGAP_QUANTITY="6.8999999999999995 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="12"/>
</stylenode>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.AutomaticLayout" POSITION="right" STYLE="bubble" VGAP_QUANTITY="6.8999999999999995 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="12"/>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level.root" COLOR="#000000" STYLE="oval" VGAP_QUANTITY="6.8999999999999995 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="12"/>
<edge COLOR="#003333"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,1" COLOR="#0033ff" VGAP_QUANTITY="6.8999999999999995 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="12"/>
<edge COLOR="#808080"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,2" COLOR="#003366" VGAP_QUANTITY="6.8999999999999995 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="12"/>
<edge COLOR="#808080"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,3" COLOR="#990000" VGAP_QUANTITY="6.8999999999999995 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="12"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,4" COLOR="#111111" VGAP_QUANTITY="6.8999999999999995 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="12"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,5" COLOR="#006666" VGAP_QUANTITY="6.8999999999999995 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="12"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,6" VGAP_QUANTITY="6.8999999999999995 pt">
<font SIZE="12"/>
</stylenode>
</stylenode>
</stylenode>
</map_styles>
</hook>
<hook NAME="AutomaticEdgeColor" COUNTER="106" RULE="ON_BRANCH_CREATION"/>
<hook NAME="accessories/plugins/AutomaticLayout.properties" VALUE="ALL"/>
<node TEXT="程序" POSITION="right" ID="ID_1974239175" CREATED="1625218546242" MODIFIED="1625218550795">
<edge COLOR="#7c0000"/>
<node TEXT=" 程序 = 指令序列 + 上下文" ID="ID_1741016582" CREATED="1625218491690" MODIFIED="1625218493099"/>
<node TEXT="指令序列" ID="ID_1625158056" CREATED="1625218555649" MODIFIED="1625218560763">
<node TEXT=" 指令序列的含义是固定的" ID="ID_538568321" CREATED="1625218515497" MODIFIED="1625218574197"/>
<node TEXT="在计算机中就是 pc 寄存器地址指向的值" ID="ID_1693888184" CREATED="1625218574345" MODIFIED="1625218582148"/>
<node TEXT=" 也就是 cpu 要执行的指令" ID="ID_632588116" CREATED="1625218582385" MODIFIED="1625218583527"/>
</node>
<node TEXT="上下文" ID="ID_884386154" CREATED="1625218480002" MODIFIED="1625218588898">
<node TEXT=" 对于 cpu 来说" ID="ID_1072069894" CREATED="1625218524921" MODIFIED="1625218526257">
<node TEXT=" 各类寄存器" ID="ID_140396595" CREATED="1625218629952" MODIFIED="1625218630994"/>
<node TEXT=" 操作数寄存器、栈寄存器、状态寄存器等" ID="ID_1782051454" CREATED="1625218601313" MODIFIED="1625218628916"/>
</node>
<node TEXT=" 对于进程来说" ID="ID_1328473288" CREATED="1625218610768" MODIFIED="1625218611831">
<node TEXT=" 各类由 cpu 抽象的出来的硬件资源" ID="ID_1237766628" CREATED="1625218637696" MODIFIED="1625218638946"/>
<node TEXT=" 寄存器、信号、分配的内存空间，文件描述符等" ID="ID_180675511" CREATED="1625218623816" MODIFIED="1625218636382"/>
<node TEXT=" 进程的切换 需要 切换系统资源和指令，消耗时间最长" ID="ID_887932822" CREATED="1625218807079" MODIFIED="1625218808108"/>
<node TEXT=" 系统调用需要进入内核态，无效的调度会让这部分开销显得更大" ID="ID_885843051" CREATED="1625219212997" MODIFIED="1625219214159"/>
</node>
<node TEXT=" 对于线程来说" ID="ID_149416342" CREATED="1625218644960" MODIFIED="1625218645715">
<node TEXT=" 寄存器，线程堆栈" ID="ID_800729673" CREATED="1625218650808" MODIFIED="1625218654516"/>
<node TEXT=" 线程切换不需要切换系统资源" ID="ID_804086746" CREATED="1625218779495" MODIFIED="1625218824691"/>
<node TEXT="线程切换只需要切换指令、线程堆栈。但这个过程也需要系统调用" ID="ID_423561118" CREATED="1625218825006" MODIFIED="1625218831020"/>
</node>
<node TEXT=" 对于函数来说" ID="ID_1249772708" CREATED="1625218661519" MODIFIED="1625218663829">
<node TEXT=" 当前的命名空间" ID="ID_1170102237" CREATED="1625218669152" MODIFIED="1625218670043"/>
</node>
<node TEXT=" 对于 协程 来说" ID="ID_1028481037" CREATED="1625218681280" MODIFIED="1625218682248">
<node TEXT="等同函数" ID="ID_1194636808" CREATED="1625218748903" MODIFIED="1625218761458"/>
<node TEXT=" 协程的切换都在用户空间内进行，不需要进行系统调用" ID="ID_702965770" CREATED="1625218764688" MODIFIED="1625218765513"/>
</node>
</node>
</node>
<node TEXT="协程 Coroutine" POSITION="right" ID="ID_1553332425" CREATED="1609824739556" MODIFIED="1609824752517">
<edge COLOR="#7c007c"/>
<node TEXT="概念" ID="ID_614351233" CREATED="1625218850110" MODIFIED="1625218852785">
<node TEXT=" 是比线程（thread）更细量级的用户态线程" ID="ID_1974134774" CREATED="1609824801116" MODIFIED="1609824805679"/>
<node TEXT=" 允许用户的主动调用和主动退出" ID="ID_1724196267" CREATED="1609824814349" MODIFIED="1609824815280"/>
<node TEXT=" 协程的真正目的其实并不是为了解决高并发而存在的，而是为了解决这种蛋痛的无限回调而存在的" ID="ID_1771182881" CREATED="1609847152274" MODIFIED="1609847157089"/>
<node TEXT=" 可以像使用「同步」的方法去写异步的调用" ID="ID_105605619" CREATED="1609847167561" MODIFIED="1609847169089"/>
</node>
<node TEXT="类型" ID="ID_507960150" CREATED="1625219235284" MODIFIED="1625219241551">
<node TEXT=" 两者对如何保存切换上下文的方式大不一样" ID="ID_228334174" CREATED="1625219276404" MODIFIED="1625219277612"/>
<node TEXT=" 无栈协程" ID="ID_853530189" CREATED="1625219246244" MODIFIED="1625219247063">
<node TEXT=" 以 asyncio 为代表" ID="ID_1896227034" CREATED="1625219254324" MODIFIED="1625219263173"/>
</node>
<node TEXT=" 有栈协程" ID="ID_1312012193" CREATED="1625219247524" MODIFIED="1625219249678">
<node TEXT=" 以 gevent 为代表" ID="ID_470419433" CREATED="1625219260588" MODIFIED="1625219261448"/>
</node>
</node>
</node>
<node TEXT="调度方式" POSITION="right" ID="ID_24422683" CREATED="1625218863728" MODIFIED="1625219042938">
<edge COLOR="#00007c"/>
<node TEXT="线程调度方式" ID="ID_500331179" CREATED="1625219004326" MODIFIED="1625219033387">
<node TEXT=" 每执行 100 个字节码或者遇到阻塞就停止当前线程" ID="ID_1633747447" CREATED="1625219016326" MODIFIED="1625219020988"/>
<node TEXT=" 然后进行一个系统调用，让 os 内核选出下一个线程" ID="ID_1822285750" CREATED="1625219021741" MODIFIED="1625219022656"/>
<node TEXT="100个字节码或许只有两个函数，执行完就要切线程了" ID="ID_1137142127" CREATED="1625219104525" MODIFIED="1625219151477"/>
</node>
<node TEXT="协程调度方式" ID="ID_1226584869" CREATED="1625219023902" MODIFIED="1625219040319">
<node TEXT=" 协程 只会在 阻塞的时候，切换到下一个协程" ID="ID_1867596797" CREATED="1625219060214" MODIFIED="1625219061311"/>
</node>
</node>
<node TEXT=" 生成器（generator）" POSITION="right" ID="ID_1239645349" CREATED="1609824869980" MODIFIED="1609824870907">
<edge COLOR="#007c7c"/>
<node TEXT=" yield能把一个函数变成一个generator" ID="ID_214102601" CREATED="1609824882724" MODIFIED="1609824883952"/>
<node TEXT=" 与return不同，yield在返回值时会保存函数上下文" ID="ID_1916809251" CREATED="1609824914604" MODIFIED="1609846077848"/>
<node TEXT=" 调用它的next方法获得下一个值" ID="ID_1486138559" CREATED="1609825126363" MODIFIED="1609825127303"/>
<node TEXT="types.GeneratorType" ID="ID_312777298" CREATED="1609908541420" MODIFIED="1609908556369"/>
</node>
<node TEXT="异步函数(协程)" POSITION="right" ID="ID_579472073" CREATED="1609908390328" MODIFIED="1609908404043">
<edge COLOR="#00ff00"/>
<node ID="ID_1351332297" CREATED="1609908460409" MODIFIED="1609908460409"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <pre style="background-color: #2b2b2b; color: #a9b7c6; font-family: JetBrains Mono,monospace; font-size: 9.8pt"><span style="color: #cc7832"><font color="#cc7832">async def </font></span><span style="color: #ffc66d"><font color="#ffc66d">async_function</font></span>():<br/>    <span style="color: #cc7832"><font color="#cc7832">return </font></span><span style="color: #6897bb"><font color="#6897bb">1<br/></font></span></pre>
  </body>
</html>
</richcontent>
</node>
<node TEXT=" types.CoroutineType" ID="ID_1127238955" CREATED="1609908561932" MODIFIED="1609908563298"/>
</node>
<node TEXT=" 异步生成器" POSITION="right" ID="ID_1814438089" CREATED="1609908485661" MODIFIED="1609908486968">
<edge COLOR="#ff00ff"/>
<node ID="ID_146108472" CREATED="1609908501716" MODIFIED="1609908501716"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <pre style="background-color: #2b2b2b; color: #a9b7c6; font-family: JetBrains Mono,monospace; font-size: 9.8pt"><span style="color: #cc7832"><font color="#cc7832">async def </font></span><span style="color: #ffc66d"><font color="#ffc66d">async_generator</font></span>():<br/>    <span style="color: #cc7832"><font color="#cc7832">yield </font></span><span style="color: #6897bb"><font color="#6897bb">1</font></span></pre>
  </body>
</html>
</richcontent>
</node>
<node TEXT="types.AsyncGeneratorType" ID="ID_207409765" CREATED="1609908521062" MODIFIED="1609908572947"/>
</node>
<node TEXT=" Coroutine与Generator的区别" POSITION="right" ID="ID_1603623340" CREATED="1609825165146" MODIFIED="1609825169989">
<edge COLOR="#7c7c00"/>
<node TEXT=" generator总是生成值，一般是迭代的序列" ID="ID_1821073374" CREATED="1609825175988" MODIFIED="1609825177455"/>
<node TEXT=" coroutine关注的是消耗值，是数据(data)的消费者" ID="ID_1060183222" CREATED="1609825183476" MODIFIED="1609825184610"/>
<node TEXT=" coroutine不会与迭代操作关联，而generator会" ID="ID_137537938" CREATED="1609825189363" MODIFIED="1609825190455"/>
<node TEXT=" coroutine强调协同控制程序流，generator强调保存状态和产生数据" ID="ID_424958205" CREATED="1609825195763" MODIFIED="1609825197373"/>
<node TEXT=" 相似的是，它们都是不用return来实现重复调用的函数/对象，都用到了yield(中断/恢复)的方式来实现" ID="ID_1201652300" CREATED="1609825219660" MODIFIED="1609825221081"/>
</node>
<node TEXT=" I/O多路复用技术（multiplexing）" POSITION="right" ID="ID_1870481762" CREATED="1609846151387" MODIFIED="1609846152608">
<edge COLOR="#0000ff"/>
<node TEXT=" 又被称为“事件驱动模型”" ID="ID_833835341" CREATED="1609846294714" MODIFIED="1609846665776"/>
<node TEXT="一个tcp服务器处理30个客户socket。这里“多路”指的是多个网络连接，“复用”指的是复用同一个线程" ID="ID_1473965026" CREATED="1609847693574" MODIFIED="1609847739137"/>
<node TEXT="缺点" ID="ID_1415154995" CREATED="1609846842572" MODIFIED="1609846845065">
<node TEXT=" 事件驱动不是无敌的，在事件驱动模型中，处理事件的进程一定是单线程的" ID="ID_1246951158" CREATED="1609846828223" MODIFIED="1609846831437"/>
<node TEXT=" 单线程模型不能有阻塞，一旦发生任何阻塞（包括计算机计算延迟）都会使得这个模型不如多线程" ID="ID_1291495532" CREATED="1609846855372" MODIFIED="1609846856636"/>
<node TEXT=" 单线程模型不能很好的利用多核cpu" ID="ID_1968116371" CREATED="1609846861733" MODIFIED="1609846862916"/>
<node TEXT=" 利用多进程，会引入进程间状态共享和通信的问题" ID="ID_604304092" CREATED="1609847060196" MODIFIED="1609847077789"/>
</node>
</node>
<node TEXT="asyncio" POSITION="right" ID="ID_1807415750" CREATED="1609825255045" MODIFIED="1609825259372">
<edge COLOR="#ff0000"/>
<node TEXT=" 提供了一种机制，可以用协程（coroutines）、IO复用（multiplexing I/O）在单线程环境中编写并发模型" ID="ID_911771737" CREATED="1609825260651" MODIFIED="1609825284645"/>
<node TEXT=" 事件驱动模型就是异步编程的重中之重" ID="ID_529695819" CREATED="1609825851656" MODIFIED="1609825853799"/>
<node TEXT=" IO复用" ID="ID_1037324828" CREATED="1609825937711" MODIFIED="1609825939391">
<node TEXT=" 如可利用socket连接的等待、接收buffer的等待" ID="ID_996277626" CREATED="1609825962648" MODIFIED="1609826026545"/>
<node TEXT=" 预先告知内核，使内核一旦发现进程指定的一个或多个IO条件就绪（输入准备被读取，或描述符能承接更多的输出），它就通知进程" ID="ID_1228875233" CREATED="1609826043199" MODIFIED="1609826044980"/>
</node>
<node TEXT="主要模块" ID="ID_515126004" CREATED="1609825388057" MODIFIED="1609825393300">
<node TEXT=" 具有特定系统实现的事件循环（event loop）" ID="ID_1557111167" CREATED="1609825399082" MODIFIED="1609825400283"/>
<node TEXT=" 数据通讯和协议抽象（类似Twisted中的部分)" ID="ID_943168973" CREATED="1609825407929" MODIFIED="1609825409270"/>
<node TEXT=" TCP，UDP,SSL，子进程管道，延迟调用和其他" ID="ID_1659619966" CREATED="1609825414802" MODIFIED="1609825416136"/>
<node TEXT=" Future类" ID="ID_1078269003" CREATED="1609825417379" MODIFIED="1609825424379">
<node TEXT=" future 是一个容器 或者占位符，代表一个即将进行或者尚未完成的操作" ID="ID_229657311" CREATED="1625218297984" MODIFIED="1625218299140"/>
</node>
<node TEXT=" yield from的支持" ID="ID_15255168" CREATED="1609825429466" MODIFIED="1609825434303"/>
<node TEXT=" 同步的支持" ID="ID_1385478287" CREATED="1609825434833" MODIFIED="1609825436108"/>
<node TEXT=" 提供向线程池转移作业的接口" ID="ID_464119059" CREATED="1609825443009" MODIFIED="1609825444240"/>
</node>
<node TEXT=" await语法" ID="ID_1288900401" CREATED="1609908676596" MODIFIED="1609908682741">
<node TEXT=" 在协程函数中，可以通过await语法来挂起自身的协程，并等待另一个协程完成直到返回结果" ID="ID_1223549719" CREATED="1609908689787" MODIFIED="1609908696488"/>
<node ID="ID_260638863" CREATED="1609908725162" MODIFIED="1609908725162"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <pre style="background-color: #2b2b2b; color: #a9b7c6; font-family: JetBrains Mono,monospace; font-size: 9.8pt"><span style="color: #cc7832"><font color="#cc7832">async def </font></span><span style="color: #ffc66d"><font color="#ffc66d">async_function</font></span>():<br/>    <span style="color: #cc7832"><font color="#cc7832">return </font></span><span style="color: #6897bb"><font color="#6897bb">1<br/></font></span><font color="#6897bb"><span style="color: #6897bb"><br/></span></font><span style="color: #cc7832"><font color="#cc7832">async def </font></span><span style="color: #ffc66d"><font color="#ffc66d">await_coroutine</font></span>():<br/>    result = <span style="color: #cc7832"><font color="#cc7832">await </font></span>async_function()<br/>    <span style="color: #8888c6"><font color="#8888c6">print</font></span>(result)<br/><br/>run(await_coroutine())  <span style="color: #808080"><font color="#808080"># 1</font></span></pre>
  </body>
</html>
</richcontent>
</node>
<node TEXT=" await语法只能出现在通过async修饰的函数中，否则会报SyntaxError错误" ID="ID_1747085235" CREATED="1609908738437" MODIFIED="1609908739616"/>
<node TEXT=" await后面的对象需要是一个Awaitable，或者实现了相关的协议" ID="ID_1272379450" CREATED="1609908746722" MODIFIED="1609908748036"/>
</node>
<node TEXT=" Awaitable" ID="ID_1138368715" CREATED="1609908755226" MODIFIED="1609908761014">
<node TEXT=" 实现了__await__方法" ID="ID_85311038" CREATED="1609908773403" MODIFIED="1609908774771"/>
</node>
<node TEXT=" loop.run_in_executor 来构建等待的future" ID="ID_491222035" CREATED="1609909978705" MODIFIED="1609909980295"/>
<node TEXT="将asyncio的协程与concurrent.futures的future连接起来的方法。这样我们自己就不用去实现线程池，信号机制、返回值的传递机制了" ID="ID_1294519059" CREATED="1609932394673" MODIFIED="1609932401079"/>
</node>
</node>
</map>
