<map version="freeplane 1.6.0">
<!--To view this file, download free mind mapping software Freeplane from http://freeplane.sourceforge.net -->
<node TEXT="&#x7528;&#x6237;&#x8ba4;&#x8bc1;" LOCALIZED_STYLE_REF="AutomaticLayout.level.root" FOLDED="false" ID="ID_1723255651" CREATED="1283093380553" MODIFIED="1533201849597" STYLE="bubble">
<font NAME="Noto Sans S Chinese Light"/>
<hook NAME="MapStyle" zoom="0.809">
    <properties fit_to_viewport="false" show_icon_for_attributes="true" show_note_icons="true" edgeColorConfiguration="#808080ff,#ff0000ff,#0000ffff,#00ff00ff,#ff00ffff,#00ffffff,#7c0000ff,#00007cff,#007c00ff,#7c007cff,#007c7cff,#7c7c00ff"/>

<map_styles>
<stylenode LOCALIZED_TEXT="styles.root_node" STYLE="oval" UNIFORM_SHAPE="true" VGAP_QUANTITY="24.0 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="24"/>
<stylenode LOCALIZED_TEXT="styles.predefined" POSITION="right" STYLE="bubble" VGAP_QUANTITY="6.8999999999999995 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="12"/>
<stylenode LOCALIZED_TEXT="default" ICON_SIZE="12.0 pt" COLOR="#000000" STYLE="combined" BORDER_WIDTH="3.0 px" MAX_WIDTH="10.1 cm" MIN_WIDTH="0.0 cm" VGAP_QUANTITY="6.8999999999999995 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="12" BOLD="false" ITALIC="false"/>
<edge STYLE="sharp_bezier" WIDTH="7"/>
</stylenode>
<stylenode LOCALIZED_TEXT="defaultstyle.details" VGAP_QUANTITY="6.8999999999999995 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="12"/>
</stylenode>
<stylenode LOCALIZED_TEXT="defaultstyle.attributes" VGAP_QUANTITY="6.8999999999999995 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="12"/>
</stylenode>
<stylenode LOCALIZED_TEXT="defaultstyle.note" COLOR="#000000" BACKGROUND_COLOR="#ffffff" TEXT_ALIGN="LEFT" VGAP_QUANTITY="6.8999999999999995 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="12"/>
</stylenode>
<stylenode LOCALIZED_TEXT="defaultstyle.floating" VGAP_QUANTITY="6.8999999999999995 pt">
<edge STYLE="hide_edge"/>
<cloud COLOR="#f0f0f0" SHAPE="ROUND_RECT"/>
<font NAME="Noto Sans S Chinese Light" SIZE="12"/>
</stylenode>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.user-defined" POSITION="right" STYLE="bubble" VGAP_QUANTITY="6.8999999999999995 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="12"/>
<stylenode LOCALIZED_TEXT="styles.ok" VGAP_QUANTITY="6.8999999999999995 pt">
<icon BUILTIN="button_ok"/>
<font NAME="Noto Sans S Chinese Light" SIZE="12"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.needs_action" VGAP_QUANTITY="6.8999999999999995 pt">
<icon BUILTIN="messagebox_warning"/>
<font NAME="Noto Sans S Chinese Light" SIZE="12"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.floating_node" VGAP_QUANTITY="6.8999999999999995 pt">
<edge STYLE="hide_edge"/>
<cloud COLOR="#f0f0f0" SHAPE="ROUND_RECT"/>
<font NAME="Noto Sans S Chinese Light" SIZE="12"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.topic" COLOR="#18898b" STYLE="fork" VGAP_QUANTITY="6.8999999999999995 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="12" BOLD="true"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.subtopic" COLOR="#cc3300" STYLE="fork" VGAP_QUANTITY="6.8999999999999995 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="12" BOLD="true"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.subsubtopic" COLOR="#669900" VGAP_QUANTITY="6.8999999999999995 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="12" BOLD="true"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.connection" COLOR="#606060" STYLE="fork" VGAP_QUANTITY="6.8999999999999995 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="12" BOLD="false"/>
<cloud COLOR="#f0f0f0" SHAPE="ROUND_RECT"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.important" COLOR="#ff0000" VGAP_QUANTITY="6.8999999999999995 pt">
<icon BUILTIN="yes"/>
<font NAME="Noto Sans S Chinese Light" SIZE="12"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.question" VGAP_QUANTITY="6.8999999999999995 pt">
<icon BUILTIN="help"/>
<font NAME="Noto Sans S Chinese Light" SIZE="12"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.key" COLOR="#996600" VGAP_QUANTITY="6.8999999999999995 pt">
<icon BUILTIN="password"/>
<font NAME="Noto Sans S Chinese Light" SIZE="12" BOLD="false"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.idea" VGAP_QUANTITY="6.8999999999999995 pt">
<icon BUILTIN="idea"/>
<font NAME="Noto Sans S Chinese Light" SIZE="12"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.note" COLOR="#990000" VGAP_QUANTITY="6.8999999999999995 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="12"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.date" COLOR="#0033ff" VGAP_QUANTITY="6.8999999999999995 pt">
<icon BUILTIN="calendar"/>
<font NAME="Noto Sans S Chinese Light" SIZE="12"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.website" COLOR="#006633" VGAP_QUANTITY="6.8999999999999995 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="12"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.list" COLOR="#cc6600" VGAP_QUANTITY="6.8999999999999995 pt">
<icon BUILTIN="list"/>
<font NAME="Noto Sans S Chinese Light" SIZE="12" BOLD="true"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.quotation" COLOR="#338800" STYLE="fork" VGAP_QUANTITY="6.8999999999999995 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="12" BOLD="false" ITALIC="false"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.definition" COLOR="#666600" VGAP_QUANTITY="6.8999999999999995 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="12" BOLD="false"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.description" COLOR="#996600" VGAP_QUANTITY="6.8999999999999995 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="12" BOLD="false"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.pending" COLOR="#b3b95c" VGAP_QUANTITY="6.8999999999999995 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="12"/>
</stylenode>
<stylenode TEXT="&#x4ee3;&#x7801;" COLOR="#33ff00" BACKGROUND_COLOR="#000000" VGAP_QUANTITY="6.8999999999999995 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="12" BOLD="true"/>
</stylenode>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.AutomaticLayout" POSITION="right" STYLE="bubble" VGAP_QUANTITY="6.8999999999999995 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="12"/>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level.root" COLOR="#000000" STYLE="oval" VGAP_QUANTITY="6.8999999999999995 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="12"/>
<edge COLOR="#003333"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,1" COLOR="#0033ff" VGAP_QUANTITY="6.8999999999999995 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="12"/>
<edge COLOR="#808080"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,2" COLOR="#003366" VGAP_QUANTITY="6.8999999999999995 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="12"/>
<edge COLOR="#808080"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,3" COLOR="#990000" VGAP_QUANTITY="6.8999999999999995 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="12"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,4" COLOR="#111111" VGAP_QUANTITY="6.8999999999999995 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="12"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,5" COLOR="#006666" VGAP_QUANTITY="6.8999999999999995 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="12"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,6" VGAP_QUANTITY="6.8999999999999995 pt">
<font SIZE="12"/>
</stylenode>
</stylenode>
</stylenode>
</map_styles>
</hook>
<hook NAME="AutomaticEdgeColor" COUNTER="54" RULE="ON_BRANCH_CREATION"/>
<hook NAME="accessories/plugins/AutomaticLayout.properties" VALUE="ALL"/>
<node TEXT="Flask&#x7684;&#x8ba4;&#x8bc1;&#x6269;&#x5c55;" POSITION="right" ID="ID_84690258" CREATED="1533201851747" MODIFIED="1533201866266">
<edge COLOR="#00007c"/>
<node TEXT="Flask-Login" ID="ID_375207471" CREATED="1533202788878" MODIFIED="1533202915686">
<node TEXT="&#x7ba1;&#x7406;&#x5df2;&#x767b;&#x5f55;&#x7528;&#x6237;&#x7684;&#x7528;&#x6237;&#x4f1a;&#x8bdd;" ID="ID_984399715" CREATED="1533202916366" MODIFIED="1533202937518"/>
</node>
<node TEXT="Werkzeug" ID="ID_1992850989" CREATED="1533202938613" MODIFIED="1533202945166">
<node TEXT="&#x8ba1;&#x7b97;&#x5bc6;&#x7801;&#x6563;&#x5217;&#x503c;&#x5e76;&#x8fdb;&#x884c;&#x6838;&#x5bf9;" ID="ID_1553228081" CREATED="1533202945389" MODIFIED="1533202972670"/>
</node>
<node TEXT="itsdangerous" ID="ID_794757450" CREATED="1533202973933" MODIFIED="1533203084311">
<node TEXT="&#x751f;&#x6210;&#x5e76;&#x6838;&#x5bf9;&#x52a0;&#x5bc6;&#x5b89;&#x5168;&#x4ee4;&#x724c;" ID="ID_199243978" CREATED="1533203089421" MODIFIED="1533203116909"/>
</node>
<node TEXT="&#x5e38;&#x89c4;&#x7528;&#x9014;&#x7684;&#x6269;&#x5c55;" ID="ID_1163866883" CREATED="1533203132332" MODIFIED="1533203152573">
<node TEXT="Flask-Mail" ID="ID_428353865" CREATED="1533203153189" MODIFIED="1533203166413"/>
<node TEXT="Flask-Bootstrap" ID="ID_966744987" CREATED="1533203167172" MODIFIED="1533203183445"/>
<node TEXT="Flask-WTF" ID="ID_1354431391" CREATED="1533203184596" MODIFIED="1533203190429"/>
</node>
</node>
<node TEXT="&#x5bc6;&#x7801;&#x5b89;&#x5168;&#x6027;" POSITION="right" ID="ID_829658652" CREATED="1533203195476" MODIFIED="1533203232074">
<edge COLOR="#007c00"/>
<node TEXT="&#x4e0d;&#x80fd;&#x5b58;&#x50a8;&#x7528;&#x6237;&#x5bc6;&#x7801;&#x672c;&#x8eab;" ID="ID_87345025" CREATED="1533204098449" MODIFIED="1533204139426"/>
<node TEXT="&#x5b58;&#x50a8;&#x5bc6;&#x7801;&#x7684;&#x6563;&#x5217;(hash)&#x503c;" ID="ID_1054581345" CREATED="1533204139745" MODIFIED="1533204412377">
<node TEXT="hash&#x503c;&#x53ef;&#x4ee3;&#x66ff;&#x539f;&#x59cb;&#x5bc6;&#x7801;" ID="ID_372515148" CREATED="1533204425088" MODIFIED="1533204453921"/>
<node TEXT="hash&#x503c;&#x53ef;&#x4ee5;&#x901a;&#x8fc7;hash&#x51fd;&#x6570;&#x590d;&#x73b0;" ID="ID_1844884697" CREATED="1533204454272" MODIFIED="1533204476841"/>
</node>
</node>
<node TEXT="Werkzeug &#x5b9e;&#x73b0;&#x5bc6;&#x7801;&#x6563;&#x5217;" POSITION="right" ID="ID_748364339" CREATED="1533204887102" MODIFIED="1533204910951">
<edge COLOR="#7c007c"/>
<node TEXT="security &#x6a21;&#x5757;" ID="ID_1479766150" CREATED="1533204979671" MODIFIED="1533204991735">
<node TEXT="&#x6ce8;&#x518c;&#x7528;&#x6237;&#x6bb5;&#x9636;" ID="ID_761002314" CREATED="1533205006349" MODIFIED="1533205017631">
<node TEXT="generate_password_hash (password, method=pbkdf2:sha1, salt_length=8)" ID="ID_861166318" CREATED="1533205052710" MODIFIED="1533205194998" MAX_WIDTH="7.3999999999999995 cm">
<node TEXT="password &#x8f93;&#x5165;" ID="ID_639780510" CREATED="1533205211374" MODIFIED="1533205227198"/>
<node TEXT="hash &#x503c;  &#x8f93;&#x51fa;&#xff0c;&#x5b58;&#x5728;&#x7528;&#x6237;&#x6570;&#x636e;&#x4e2d;" ID="ID_683156970" CREATED="1533205227629" MODIFIED="1533205306278"/>
<node TEXT="method &#x548c; salt_length&#x7684;&#x9ed8;&#x8ba4;&#x503c;&#x80fd;&#x6ee1;&#x8db3;&#x5927;&#x591a;&#x6570;&#x9700;&#x6c42;" ID="ID_291371360" CREATED="1533205272124" MODIFIED="1533205398573"/>
</node>
</node>
<node TEXT="&#x9a8c;&#x8bc1;&#x7528;&#x6237;&#x6bb5;&#x9636;" ID="ID_230589826" CREATED="1533205017917" MODIFIED="1533205025551">
<node TEXT="check_password_hash(hash, password)" ID="ID_53780652" CREATED="1533205417948" MODIFIED="1533205444453">
<node TEXT="&#x4ece;&#x6570;&#x636e;&#x5e93;&#x4e2d;&#x53d6;&#x51fa;hash&#x503c;&#xff0c;&#x5bf9;&#x6bd4;&#x7528;&#x6237;&#x8f93;&#x5165;&#x7684;&#x5bc6;&#x7801;" ID="ID_466483337" CREATED="1533205491796" MODIFIED="1533205519805"/>
<node TEXT="&#x8fd4;&#x56de;&#x503c;&#xff1a;True &#x6216;&#x8005; False" ID="ID_498234163" CREATED="1533205520300" MODIFIED="1533205573434"/>
</node>
</node>
</node>
<node TEXT="User&#x6a21;&#x578b;&#x4f8b;&#x5b50;" ID="ID_219213946" CREATED="1533207200389" MODIFIED="1533207294390">
<node ID="ID_1267550764" CREATED="1535253894382" MODIFIED="1535253894382"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <pre style="background-color: #2b2b2b; color: #a9b7c6; font-family: Source Code Pro; font-size: 12.0pt"><span style="color: #cc7832"><font color="#cc7832">from </font></span>werkzeug.security <span style="color: #cc7832"><font color="#cc7832">import </font></span>generate_password_hash<span style="color: #cc7832"><font color="#cc7832">, </font></span>check_password_hash <br/><span style="color: #cc7832"><font color="#cc7832">class </font></span>User(db.Model): <br/>    __tablename__ = <span style="color: #6a8759"><font color="#6a8759">'users' <br/></font></span><font color="#6a8759"><span style="color: #6a8759">    </span></font>id = db.Column(db.Integer<span style="color: #cc7832"><font color="#cc7832">, </font></span><span style="color: #aa4926"><font color="#aa4926">primary_key</font></span>=<span style="color: #cc7832"><font color="#cc7832">True</font></span>) <br/>    username = db.Column(db.String(<span style="color: #6897bb"><font color="#6897bb">64</font></span>)<span style="color: #cc7832"><font color="#cc7832">, </font></span><span style="color: #aa4926"><font color="#aa4926">unique</font></span>=<span style="color: #cc7832"><font color="#cc7832">True, </font></span><span style="color: #aa4926"><font color="#aa4926">index</font></span>=<span style="color: #cc7832"><font color="#cc7832">True</font></span>) <br/>    role_id = db.Column(db.Integer<span style="color: #cc7832"><font color="#cc7832">, </font></span>db.ForeignKey(<span style="color: #6a8759"><font color="#6a8759">'roles.id'</font></span>)) <br/><br/>    <span style="color: #808080"><font color="#808080"># </font></span><span style="color: #808080; font-family: &#x5b8b;&#x4f53;"><font color="#808080" face="&#x5b8b;&#x4f53;">&#21152;&#20837;&#23494;&#30721;&#25955;&#21015; <br/></font></span><font color="#808080" face="&#x5b8b;&#x4f53;"><span style="color: #808080; font-family: &#x5b8b;&#x4f53;">    </span></font>password_hash = db.Column(db.String(<span style="color: #6897bb"><font color="#6897bb">128</font></span>)) <br/><br/>    <span style="color: #bbb529"><font color="#bbb529">@property <br/></font></span><font color="#bbb529"><span style="color: #bbb529">    </span></font><span style="color: #cc7832"><font color="#cc7832">def </font></span><span style="color: #ffc66d"><font color="#ffc66d">password</font></span>(<span style="color: #94558d"><font color="#94558d">self</font></span>): <br/>        <span style="color: #cc7832"><font color="#cc7832">raise </font></span><span style="color: #8888c6"><font color="#8888c6">AttributeError</font></span>(<span style="color: #6a8759"><font color="#6a8759">'password is not a readable attribute'</font></span>) <br/><br/>    <span style="color: #808080"><font color="#808080"># </font></span><span style="color: #808080; font-family: &#x5b8b;&#x4f53;"><font color="#808080" face="&#x5b8b;&#x4f53;">&#29983;&#25104;&#29983;&#29992;&#25143;&#23494;&#30721;</font></span><span style="color: #808080"><font color="#808080">hash</font></span><span style="color: #808080; font-family: &#x5b8b;&#x4f53;"><font color="#808080" face="&#x5b8b;&#x4f53;">&#20540; <br/></font></span><font color="#808080" face="&#x5b8b;&#x4f53;"><span style="color: #808080; font-family: &#x5b8b;&#x4f53;">    </span></font><span style="color: #bbb529"><font color="#bbb529">@</font></span><span style="color: #8888c6"><font color="#8888c6">property</font></span>.setter <br/>    <span style="color: #cc7832"><font color="#cc7832">def </font></span><span style="color: #ffc66d"><font color="#ffc66d">password</font></span>(<span style="color: #94558d"><font color="#94558d">self</font></span><span style="color: #cc7832"><font color="#cc7832">, </font></span>password): <br/>        <span style="color: #94558d"><font color="#94558d">self</font></span>.password_hash = generate_password_hash(password) <br/><br/>    <span style="color: #808080"><font color="#808080"># </font></span><span style="color: #808080; font-family: &#x5b8b;&#x4f53;"><font color="#808080" face="&#x5b8b;&#x4f53;">&#39564;&#35777;&#29992;&#25143;&#23494;&#30721; <br/></font></span><font color="#808080" face="&#x5b8b;&#x4f53;"><span style="color: #808080; font-family: &#x5b8b;&#x4f53;">    </span></font><span style="color: #cc7832"><font color="#cc7832">def </font></span><span style="color: #ffc66d"><font color="#ffc66d">verify_password</font></span>(<span style="color: #94558d"><font color="#94558d">self</font></span><span style="color: #cc7832"><font color="#cc7832">, </font></span>password): <br/>        <span style="color: #cc7832"><font color="#cc7832">return </font></span>check_password_hash(<span style="color: #94558d"><font color="#94558d">self</font></span>.password_hash<span style="color: #cc7832"><font color="#cc7832">, </font></span>password) <br/><br/>    <span style="color: #cc7832"><font color="#cc7832">def </font></span><span style="color: #b200b2"><font color="#b200b2">__repr__</font></span>(<span style="color: #94558d"><font color="#94558d">self</font></span>): <br/>        <span style="color: #cc7832"><font color="#cc7832">return </font></span><span style="color: #6a8759"><font color="#6a8759">f'&lt;User {self.name}&gt;'</font></span></pre>
  </body>
</html>

</richcontent>
</node>
</node>
</node>
</node>
</map>
