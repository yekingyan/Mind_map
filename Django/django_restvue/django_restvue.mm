<map version="freeplane 1.7.0">
<!--To view this file, download free mind mapping software Freeplane from http://freeplane.sourceforge.net -->
<node TEXT="django_restvue" LOCALIZED_STYLE_REF="AutomaticLayout.level.root" FOLDED="false" ID="ID_1723255651" CREATED="1283093380553" MODIFIED="1551186550185" STYLE="bubble">
<font NAME="Noto Sans S Chinese Light" SIZE="14"/>
<hook NAME="MapStyle" zoom="1.077">
    <properties show_icon_for_attributes="true" fit_to_viewport="false" show_note_icons="true" edgeColorConfiguration="#808080ff,#ff0000ff,#0000ffff,#00ff00ff,#ff00ffff,#00ffffff,#7c0000ff,#00007cff,#007c00ff,#7c007cff,#007c7cff,#7c7c00ff"/>

<map_styles>
<stylenode LOCALIZED_TEXT="styles.root_node" STYLE="oval" UNIFORM_SHAPE="true" VGAP_QUANTITY="24.0 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="24"/>
<stylenode LOCALIZED_TEXT="styles.predefined" POSITION="right" STYLE="bubble" VGAP_QUANTITY="6.8999999999999995 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="12"/>
<stylenode LOCALIZED_TEXT="default" ICON_SIZE="12.0 pt" COLOR="#000000" STYLE="combined" BORDER_WIDTH="3.0 px" MAX_WIDTH="10.1 cm" MIN_WIDTH="0.0 cm" VGAP_QUANTITY="6.8999999999999995 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="12" BOLD="false" ITALIC="false"/>
<edge STYLE="sharp_bezier" WIDTH="7"/>
</stylenode>
<stylenode LOCALIZED_TEXT="defaultstyle.details" VGAP_QUANTITY="6.8999999999999995 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="12"/>
</stylenode>
<stylenode LOCALIZED_TEXT="defaultstyle.attributes" VGAP_QUANTITY="6.8999999999999995 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="12"/>
</stylenode>
<stylenode LOCALIZED_TEXT="defaultstyle.note" COLOR="#000000" BACKGROUND_COLOR="#ffffff" TEXT_ALIGN="LEFT" VGAP_QUANTITY="6.8999999999999995 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="12"/>
</stylenode>
<stylenode LOCALIZED_TEXT="defaultstyle.floating" VGAP_QUANTITY="6.8999999999999995 pt">
<edge STYLE="hide_edge"/>
<cloud COLOR="#f0f0f0" SHAPE="ROUND_RECT"/>
<font NAME="Noto Sans S Chinese Light" SIZE="12"/>
</stylenode>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.user-defined" POSITION="right" STYLE="bubble" VGAP_QUANTITY="6.8999999999999995 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="12"/>
<stylenode LOCALIZED_TEXT="styles.ok" VGAP_QUANTITY="6.8999999999999995 pt">
<icon BUILTIN="button_ok"/>
<font NAME="Noto Sans S Chinese Light" SIZE="12"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.needs_action" VGAP_QUANTITY="6.8999999999999995 pt">
<icon BUILTIN="messagebox_warning"/>
<font NAME="Noto Sans S Chinese Light" SIZE="12"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.floating_node" VGAP_QUANTITY="6.8999999999999995 pt">
<edge STYLE="hide_edge"/>
<cloud COLOR="#f0f0f0" SHAPE="ROUND_RECT"/>
<font NAME="Noto Sans S Chinese Light" SIZE="12"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.topic" COLOR="#18898b" STYLE="fork" VGAP_QUANTITY="6.8999999999999995 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="12" BOLD="true"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.subtopic" COLOR="#cc3300" STYLE="fork" VGAP_QUANTITY="6.8999999999999995 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="12" BOLD="true"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.subsubtopic" COLOR="#669900" VGAP_QUANTITY="6.8999999999999995 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="12" BOLD="true"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.connection" COLOR="#606060" STYLE="fork" VGAP_QUANTITY="6.8999999999999995 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="12" BOLD="false"/>
<cloud COLOR="#f0f0f0" SHAPE="ROUND_RECT"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.important" COLOR="#ff0000" VGAP_QUANTITY="6.8999999999999995 pt">
<icon BUILTIN="yes"/>
<font NAME="Noto Sans S Chinese Light" SIZE="12"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.question" VGAP_QUANTITY="6.8999999999999995 pt">
<icon BUILTIN="help"/>
<font NAME="Noto Sans S Chinese Light" SIZE="12"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.key" COLOR="#996600" VGAP_QUANTITY="6.8999999999999995 pt">
<icon BUILTIN="password"/>
<font NAME="Noto Sans S Chinese Light" SIZE="12" BOLD="false"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.idea" VGAP_QUANTITY="6.8999999999999995 pt">
<icon BUILTIN="idea"/>
<font NAME="Noto Sans S Chinese Light" SIZE="12"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.note" COLOR="#990000" VGAP_QUANTITY="6.8999999999999995 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="12"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.date" COLOR="#0033ff" VGAP_QUANTITY="6.8999999999999995 pt">
<icon BUILTIN="calendar"/>
<font NAME="Noto Sans S Chinese Light" SIZE="12"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.website" COLOR="#006633" VGAP_QUANTITY="6.8999999999999995 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="12"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.list" COLOR="#cc6600" VGAP_QUANTITY="6.8999999999999995 pt">
<icon BUILTIN="list"/>
<font NAME="Noto Sans S Chinese Light" SIZE="12" BOLD="true"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.quotation" COLOR="#338800" STYLE="fork" VGAP_QUANTITY="6.8999999999999995 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="12" BOLD="false" ITALIC="false"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.definition" COLOR="#666600" VGAP_QUANTITY="6.8999999999999995 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="12" BOLD="false"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.description" COLOR="#996600" VGAP_QUANTITY="6.8999999999999995 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="12" BOLD="false"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.pending" COLOR="#b3b95c" VGAP_QUANTITY="6.8999999999999995 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="12"/>
</stylenode>
<stylenode TEXT="&#x4ee3;&#x7801;" COLOR="#c0fdce" BACKGROUND_COLOR="#000000" VGAP_QUANTITY="6.8999999999999995 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="12"/>
</stylenode>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.AutomaticLayout" POSITION="right" STYLE="bubble" VGAP_QUANTITY="6.8999999999999995 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="12"/>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level.root" COLOR="#000000" STYLE="oval" VGAP_QUANTITY="6.8999999999999995 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="12"/>
<edge COLOR="#003333"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,1" COLOR="#0033ff" VGAP_QUANTITY="6.8999999999999995 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="12"/>
<edge COLOR="#808080"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,2" COLOR="#003366" VGAP_QUANTITY="6.8999999999999995 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="12"/>
<edge COLOR="#808080"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,3" COLOR="#990000" VGAP_QUANTITY="6.8999999999999995 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="12"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,4" COLOR="#111111" VGAP_QUANTITY="6.8999999999999995 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="12"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,5" COLOR="#006666" VGAP_QUANTITY="6.8999999999999995 pt">
<font NAME="Noto Sans S Chinese Light" SIZE="12"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,6" VGAP_QUANTITY="6.8999999999999995 pt">
<font SIZE="12"/>
</stylenode>
</stylenode>
</stylenode>
</map_styles>
</hook>
<hook NAME="AutomaticEdgeColor" COUNTER="106" RULE="ON_BRANCH_CREATION"/>
<hook NAME="accessories/plugins/AutomaticLayout.properties" VALUE="ALL"/>
<node TEXT="&#x72ec;&#x7acb;&#x4f7f;&#x7528;Django ORM" POSITION="right" ID="ID_928227116" CREATED="1551273918472" MODIFIED="1551273933422">
<edge COLOR="#7c007c"/>
<node TEXT="1.&#x73af;&#x5883;&#x53d8;&#x91cf;" ID="ID_721375336" CREATED="1551273987801" MODIFIED="1551274040544">
<node ID="ID_784933578" CREATED="1551273956162" MODIFIED="1551273976782"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <pre style="background-color: #2b2b2b; color: #a9b7c6; font-family: &#x5b8b;&#x4f53;; font-size: 10.5pt"><span style="color: #cc7832"><font color="#cc7832">import </font></span>sys<br/><span style="color: #cc7832"><font color="#cc7832">import </font></span>os<br/><br/>pwd = os.path.dirname(os.path.realpath(__file__))<br/><span style="color: #808080"><font color="#808080">#  &#33719;&#21462;&#39033;&#30446;&#21517;&#30340;&#30446;&#24405;(&#24403;&#21069;&#22312;&#31532;&#20108;&#32423; ../..)<br/></font></span>sys.path.append(pwd+<span style="color: #6a8759"><font color="#6a8759">&quot;../..&quot;</font></span>)<br/>os.environ.setdefault(<span style="color: #6a8759"><font color="#6a8759">&quot;DJANGO_SETTINGS_MODULE&quot;</font></span><span style="color: #cc7832"><font color="#cc7832">, </font></span><span style="color: #6a8759"><font color="#6a8759">&quot;&#39033;&#30446;&#21517;.settings&quot;</font></span>)</pre>
  </body>
</html>

</richcontent>
</node>
</node>
<node TEXT="2.&#x4f7f;&#x7528;django" ID="ID_1355446344" CREATED="1551274002470" MODIFIED="1551274043671">
<node ID="ID_660021120" CREATED="1551274077226" MODIFIED="1551274077226"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <pre style="background-color: #2b2b2b; color: #a9b7c6; font-family: &#x5b8b;&#x4f53;; font-size: 10.5pt"><span style="color: #cc7832"><font color="#cc7832">import </font></span>django<br/>django.setup()<br/><br/><span style="color: #cc7832"><font color="#cc7832">from </font></span>goods.models <span style="color: #cc7832"><font color="#cc7832">import </font></span>Goods<span style="color: #cc7832"><font color="#cc7832">, </font></span>GoodsCategory<span style="color: #cc7832"><font color="#cc7832">, </font></span>GoodsImage</pre>
  </body>
</html>

</richcontent>
</node>
</node>
</node>
<node TEXT="&#x8bbf;&#x95ee;media&#x4e2d;&#x7684;&#x8d44;&#x6e90;" POSITION="right" ID="ID_1243494581" CREATED="1551274134773" MODIFIED="1551274158545">
<edge COLOR="#007c7c"/>
<node TEXT="settings.py" ID="ID_849652189" CREATED="1551274259092" MODIFIED="1551274266611">
<node ID="ID_389056677" CREATED="1551274267566" MODIFIED="1551274267566"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <pre style="background-color: #2b2b2b; color: #a9b7c6; font-family: &#x5b8b;&#x4f53;; font-size: 10.5pt"><span style="color: #808080"><font color="#808080"># &#35775;&#38382;media &#20013;&#30340;&#36164;&#28304;<br/></font></span>MEDIA_URL = <span style="color: #6a8759"><font color="#6a8759">'/media/'<br/></font></span>MEDIA_ROOT = os.path.join(BASE_DIR<span style="color: #cc7832"><font color="#cc7832">, </font></span><span style="color: #6a8759"><font color="#6a8759">'media'</font></span>)</pre>
  </body>
</html>

</richcontent>
</node>
</node>
<node TEXT="urls.py" ID="ID_113646215" CREATED="1551274269356" MODIFIED="1551274273645">
<node ID="ID_423956069" CREATED="1551274463470" MODIFIED="1551274463470"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <pre style="background-color: #2b2b2b; color: #a9b7c6; font-family: &#x5b8b;&#x4f53;; font-size: 10.5pt"><span style="color: #cc7832"><font color="#cc7832">from </font></span>.settings <span style="color: #cc7832"><font color="#cc7832">import </font></span>MEDIA_ROOT<br/><span style="color: #cc7832"><font color="#cc7832">from </font></span>django.views.static <span style="color: #cc7832"><font color="#cc7832">import </font></span>serve<br/><br/>urlpatterns = [<br/>    url(<span style="color: #6a8759"><font color="#6a8759">r'^admin/'</font></span><span style="color: #cc7832"><font color="#cc7832">, </font></span>xadmin.site.urls)<span style="color: #cc7832"><font color="#cc7832">,<br/></font></span><font color="#cc7832"><span style="color: #cc7832">    </span></font>url(<span style="color: #6a8759"><font color="#6a8759">r'^media/(?P&lt;path&gt;.*)$'</font></span><span style="color: #cc7832"><font color="#cc7832">, </font></span>serve<span style="color: #cc7832"><font color="#cc7832">, </font></span>{<span style="color: #6a8759"><font color="#6a8759">'document_root'</font></span>: MEDIA_ROOT})<br/>]<br/></pre>
  </body>
</html>

</richcontent>
</node>
</node>
</node>
<node TEXT="&#x5e8f;&#x5217;&#x5316;" POSITION="right" ID="ID_1300067172" CREATED="1551278090430" MODIFIED="1551278115093">
<edge COLOR="#7c7c00"/>
<node TEXT="json.dumps" ID="ID_74812335" CREATED="1551278316333" MODIFIED="1551278320863">
<node TEXT="json.dumps &#x65e0;&#x6cd5;&#x5bf9;datetime &#x548c; ImageFieldFile &#x7b49;&#x8fdb;&#x884c;&#x5e8f;&#x5217;&#x5316;" ID="ID_1007775559" CREATED="1551278115378" MODIFIED="1551278257090" MAX_WIDTH="11.5 cm"/>
<node ID="ID_1772764412" CREATED="1551278311172" MODIFIED="1551278311172"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <pre style="background-color: #2b2b2b; color: #a9b7c6; font-family: &#x5b8b;&#x4f53;; font-size: 10.5pt"><span style="color: #cc7832"><font color="#cc7832">return </font></span>HttpResponse(json.dumps(json_list)<span style="color: #cc7832"><font color="#cc7832">, </font></span><span style="color: #aa4926"><font color="#aa4926">content_type</font></span>=<span style="color: #6a8759"><font color="#6a8759">'application/json'</font></span>)</pre>
  </body>
</html>

</richcontent>
</node>
</node>
<node TEXT="serializers" ID="ID_497905331" CREATED="1551278263462" MODIFIED="1551278273369">
<node ID="ID_1822528264" CREATED="1551278702877" MODIFIED="1551278702877"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <pre style="background-color: #2b2b2b; color: #a9b7c6; font-family: &#x5b8b;&#x4f53;; font-size: 10.5pt">goods = Goods.objects.all()[:<span style="color: #6897bb"><font color="#6897bb">10</font></span>]<br/><span style="color: #cc7832"><font color="#cc7832">from </font></span>django.core <span style="color: #cc7832"><font color="#cc7832">import </font></span>serializers<br/>json_data = serializers.serialize(<span style="color: #6a8759"><font color="#6a8759">'json'</font></span><span style="color: #cc7832"><font color="#cc7832">, </font></span>goods)<br/><span style="color: #cc7832"><font color="#cc7832">return </font></span>HttpResponse(json_data<span style="color: #cc7832"><font color="#cc7832">, </font></span><span style="color: #aa4926"><font color="#aa4926">content_type</font></span>=<span style="color: #6a8759"><font color="#6a8759">'application/json'</font></span>)</pre>
  </body>
</html>

</richcontent>
</node>
<node ID="ID_1957760705" CREATED="1551278759757" MODIFIED="1551278759757"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <pre style="background-color: #2b2b2b; color: #a9b7c6; font-family: &#x5b8b;&#x4f53;; font-size: 10.5pt"><span style="color: #cc7832"><font color="#cc7832">return </font></span>JsonResponse(json_data)</pre>
  </body>
</html>

</richcontent>
</node>
</node>
</node>
<node TEXT="views" POSITION="right" ID="ID_1992130514" CREATED="1551365471550" MODIFIED="1551365475363">
<edge COLOR="#7c0000"/>
<node TEXT="APIView" ID="ID_1244808035" CREATED="1551363140840" MODIFIED="1551365477637">
<node TEXT="&#x6ce8;&#x610f;&#x8fd9;&#x4e2a;Response&#x662f;&#x5c5e;&#x4e8e;DRF&#x7684;" ID="ID_536739098" CREATED="1551363151988" MODIFIED="1551363247279"/>
<node ID="ID_1960124647" CREATED="1551363196290" MODIFIED="1551363196290"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <pre style="background-color: #2b2b2b; color: #a9b7c6; font-family: &#x5b8b;&#x4f53;; font-size: 10.5pt"><span style="color: #cc7832"><font color="#cc7832">class </font></span>GoodsListView(APIView):<br/>    <span style="color: #cc7832"><font color="#cc7832">def </font></span><span style="color: #ffc66d"><font color="#ffc66d">get</font></span>(<span style="color: #94558d"><font color="#94558d">self</font></span><span style="color: #cc7832"><font color="#cc7832">, </font></span><span style="color: #808080"><font color="#808080">request</font></span><span style="color: #cc7832"><font color="#cc7832">, </font></span><span style="color: #808080"><font color="#808080">format=None</font></span>):<br/>        goods = Goods.objects.all()[:<span style="color: #6897bb"><font color="#6897bb">10</font></span>]<br/>        goods_serializer = GoodsSerializer(goods<span style="color: #cc7832"><font color="#cc7832">, </font></span><span style="color: #aa4926"><font color="#aa4926">many</font></span>=<span style="color: #cc7832"><font color="#cc7832">True</font></span>)<br/>        <span style="color: #cc7832"><font color="#cc7832">return </font></span>Response(goods_serializer.data)</pre>
  </body>
</html>

</richcontent>
</node>
</node>
<node TEXT="mixins&#x548c;generice" ID="ID_1852370447" CREATED="1551365478820" MODIFIED="1551366124884">
<node ID="ID_944573477" CREATED="1551366472383" MODIFIED="1551366472383"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <pre style="background-color: #2b2b2b; color: #a9b7c6; font-family: &#x5b8b;&#x4f53;; font-size: 10.5pt"><span style="color: #cc7832"><font color="#cc7832">class </font></span>GoodsListView(mixins.ListModelMixin<span style="color: #cc7832"><font color="#cc7832">,<br/></font></span><font color="#cc7832"><span style="color: #cc7832">                    </span></font>generics.GenericAPIView<span style="color: #cc7832"><font color="#cc7832">,<br/></font></span><font color="#cc7832"><span style="color: #cc7832">                    </span></font>mixins.CreateModelMixin<span style="color: #cc7832"><font color="#cc7832">,</font></span>):<br/><br/>    <span style="color: #808080"><font color="#808080"># queryset &#21644; serializer_class &#26159;&#24517;&#39035;&#30340;<br/></font></span><font color="#808080"><span style="color: #808080">    </span></font>queryset = Goods.objects.all()[:<span style="color: #6897bb"><font color="#6897bb">10</font></span>]<br/>    serializer_class = GoodsSerializer<br/><br/>    <span style="color: #808080"><font color="#808080"># &#21830;&#21697;&#21015;&#34920;<br/></font></span><font color="#808080"><span style="color: #808080">    </span></font><span style="color: #cc7832"><font color="#cc7832">def </font></span><span style="color: #ffc66d"><font color="#ffc66d">get</font></span>(<span style="color: #94558d"><font color="#94558d">self</font></span><span style="color: #cc7832"><font color="#cc7832">, </font></span>request<span style="color: #cc7832"><font color="#cc7832">, </font></span>*args<span style="color: #cc7832"><font color="#cc7832">, </font></span>**kwargs):<br/>        <span style="color: #cc7832"><font color="#cc7832">return </font></span><span style="color: #94558d"><font color="#94558d">self</font></span>.list(request<span style="color: #cc7832"><font color="#cc7832">, </font></span>*args<span style="color: #cc7832"><font color="#cc7832">, </font></span>**kwargs)<br/><br/>    <span style="color: #808080"><font color="#808080"># &#26032;&#24314;&#21830;&#21697;<br/></font></span><font color="#808080"><span style="color: #808080">    </span></font><span style="color: #cc7832"><font color="#cc7832">def </font></span><span style="color: #ffc66d"><font color="#ffc66d">post</font></span>(<span style="color: #94558d"><font color="#94558d">self</font></span><span style="color: #cc7832"><font color="#cc7832">, </font></span>request<span style="color: #cc7832"><font color="#cc7832">, </font></span>*args<span style="color: #cc7832"><font color="#cc7832">, </font></span>**kwargs):<br/>        <span style="color: #cc7832"><font color="#cc7832">return </font></span><span style="color: #94558d"><font color="#94558d">self</font></span>.create(request<span style="color: #cc7832"><font color="#cc7832">, </font></span>*args<span style="color: #cc7832"><font color="#cc7832">, </font></span>**kwargs)</pre>
  </body>
</html>

</richcontent>
</node>
<node TEXT="&#x7b49;&#x540c;&#x4e8e;" ID="ID_1318185258" CREATED="1551366772216" MODIFIED="1551366786201">
<node TEXT="&#x65b0;&#x7ee7;&#x627f;&#x7684;&#x4e24;&#x4e2a;&#x7c7b;&#x5b9e;&#x73b0;&#x7684;&#x5c31;&#x4e0a;&#x9762;&#x7684;&#x4ee3;&#x7801;" ID="ID_144806708" CREATED="1551366788020" MODIFIED="1551366937995"/>
<node ID="ID_1064547784" CREATED="1551366898505" MODIFIED="1551366898505"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <pre style="background-color: #2b2b2b; color: #a9b7c6; font-family: &#x5b8b;&#x4f53;; font-size: 10.5pt"><span style="color: #cc7832"><font color="#cc7832">class </font></span>GoodsListView(generics.ListAPIView<span style="color: #cc7832"><font color="#cc7832">,<br/></font></span><font color="#cc7832"><span style="color: #cc7832">                    </span></font>generics.CreateAPIView<span style="color: #cc7832"><font color="#cc7832">,</font></span>):<br/><br/>    <span style="color: #808080"><font color="#808080"># queryset &#21644; serializer_class &#26159;&#24517;&#39035;&#30340;<br/></font></span><font color="#808080"><span style="color: #808080">    </span></font>queryset = Goods.objects.all()[:<span style="color: #6897bb"><font color="#6897bb">10</font></span>]<br/>    serializer_class = GoodsSerializer</pre>
  </body>
</html>

</richcontent>
</node>
</node>
<node TEXT=" site-packages\rest_framework\generics.py" ID="ID_206294713" CREATED="1551366967110" MODIFIED="1551366981822"/>
<node TEXT="generics.py&#x6709;&#x5f88;&#x591a;&#x53ef;&#x4f9b;&#x7ee7;&#x627f;&#x7684;view&#x7c7b;&#xff0c;&#x51cf;&#x5c11;&#x4ee3;&#x7801;&#x91cf;" ID="ID_562599707" CREATED="1551366984776" MODIFIED="1551367042417"/>
</node>
</node>
<node TEXT=" serializers" POSITION="right" ID="ID_1196963503" CREATED="1551365414523" MODIFIED="1551365417349">
<edge COLOR="#00ffff"/>
<node TEXT="Serializer" ID="ID_1655492686" CREATED="1551364338992" MODIFIED="1551365434055">
<node TEXT="&#x4fdd;&#x5b58;&#x6570;&#x636e;" ID="ID_973438228" CREATED="1551363614919" MODIFIED="1551364450763">
<node TEXT="app\serializers.py" ID="ID_1366341581" CREATED="1551363815353" MODIFIED="1551363829898">
<node TEXT="&#x539f;&#x672c;&#x7684;create&#x51fd;&#x6570;" ID="ID_929754339" CREATED="1551363633327" MODIFIED="1551363643011">
<node TEXT="rest_framework\serializers.py" ID="ID_1438019220" CREATED="1551363705045" MODIFIED="1551363724048"/>
<node ID="ID_1753313481" CREATED="1551363702737" MODIFIED="1551363702737"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <pre style="background-color: #2b2b2b; color: #a9b7c6; font-family: &#x5b8b;&#x4f53;; font-size: 10.5pt"><span style="color: #cc7832"><font color="#cc7832">def </font></span><span style="color: #ffc66d"><font color="#ffc66d">create</font></span>(<span style="color: #94558d"><font color="#94558d">self</font></span><span style="color: #cc7832"><font color="#cc7832">, </font></span>validated_data):<br/>    <span style="color: #808080"><font color="#808080"># NotImplementedError&#65306; &#20989;&#25968;&#19981;&#21487;&#29992;<br/></font></span><font color="#808080"><span style="color: #808080">    </span></font><span style="color: #cc7832"><font color="#cc7832">raise </font></span><span style="color: #8888c6"><font color="#8888c6">NotImplementedError</font></span>(<span style="color: #6a8759"><font color="#6a8759">'`create()` must be implemented.'</font></span>)</pre>
  </body>
</html>

</richcontent>
</node>
</node>
<node TEXT="&#x91cd;&#x8f7d;create&#x51fd;&#x6570;" ID="ID_1824597606" CREATED="1551363726696" MODIFIED="1551363741171">
<node ID="ID_682938753" CREATED="1551363767884" MODIFIED="1551363767884"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <pre style="background-color: #2b2b2b; color: #a9b7c6; font-family: &#x5b8b;&#x4f53;; font-size: 10.5pt"><span style="color: #cc7832"><font color="#cc7832">class </font></span>GoodsSerializer(serializers.Serializer):<br/>    name = serializers.CharField(<span style="color: #aa4926"><font color="#aa4926">required</font></span>=<span style="color: #cc7832"><font color="#cc7832">True, </font></span><span style="color: #aa4926"><font color="#aa4926">max_length</font></span>=<span style="color: #6897bb"><font color="#6897bb">100</font></span>)<br/>    click_num = serializers.IntegerField(<span style="color: #aa4926"><font color="#aa4926">default</font></span>=<span style="color: #6897bb"><font color="#6897bb">0</font></span>)<br/>    goods_front_image = serializers.ImageField()<br/><br/>    <span style="color: #cc7832"><font color="#cc7832">def </font></span><span style="color: #ffc66d"><font color="#ffc66d">create</font></span>(<span style="color: #94558d"><font color="#94558d">self</font></span><span style="color: #cc7832"><font color="#cc7832">, </font></span>validated_data):<br/>        <span style="color: #808080"><font color="#808080"># &#20889;&#20837;&#28385;&#36275;&#19978;&#38754;&#31867;&#21464;&#37327;&#30340;validate_data&#21040;&#25968;&#25454;&#24211;<br/></font></span><font color="#808080"><span style="color: #808080">        </span></font><span style="color: #cc7832"><font color="#cc7832">return </font></span>Goods.objects.create(**validated_data)</pre>
  </body>
</html>

</richcontent>
</node>
</node>
</node>
<node TEXT="app\views.py" ID="ID_572719970" CREATED="1551363838116" MODIFIED="1551363843689">
<node ID="ID_420635389" CREATED="1551364156085" MODIFIED="1551364156085"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <pre style="background-color: #2b2b2b; color: #a9b7c6; font-family: &#x5b8b;&#x4f53;; font-size: 10.5pt"><span style="color: #cc7832"><font color="#cc7832">class </font></span>GoodsListView(APIView):<br/>    <span style="color: #cc7832"><font color="#cc7832">def </font></span><span style="color: #ffc66d"><font color="#ffc66d">post</font></span>(<span style="color: #94558d"><font color="#94558d">self</font></span><span style="color: #cc7832"><font color="#cc7832">, </font></span>request<span style="color: #cc7832"><font color="#cc7832">, </font></span><span style="color: #808080"><font color="#808080">format=None</font></span>):<br/>        serializer = GoodsSerializer(<span style="color: #aa4926"><font color="#aa4926">data</font></span>=request.data)<br/>        <span style="color: #cc7832"><font color="#cc7832">if </font></span>serializer.is_valid():<br/>            serializer.save()  <span style="color: #808080"><font color="#808080"># &#35843;&#29992;serializers&#20013;&#30340;create&#26041;&#27861;<br/></font></span><font color="#808080"><span style="color: #808080">            </span></font><span style="color: #cc7832"><font color="#cc7832">return </font></span>Response(serializer.data<span style="color: #cc7832"><font color="#cc7832">, </font></span><span style="color: #aa4926"><font color="#aa4926">status</font></span>=status.HTTP_201_CREATED)</pre>
  </body>
</html>

</richcontent>
</node>
</node>
</node>
</node>
<node TEXT="ModelSerializer" ID="ID_1625212960" CREATED="1551364459757" MODIFIED="1551365421783">
<node TEXT="&#x5b57;&#x6bb5;&#x5e8f;&#x5217;&#x5316;" ID="ID_1392373950" CREATED="1551364728654" MODIFIED="1551364741761">
<node ID="ID_501554448" CREATED="1551364712622" MODIFIED="1551364712622"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <pre style="background-color: #2b2b2b; color: #a9b7c6; font-family: &#x5b8b;&#x4f53;; font-size: 10.5pt"><span style="color: #cc7832"><font color="#cc7832">class </font></span>GoodsSerializer(serializers.ModelSerializer):<br/>    <span style="color: #cc7832"><font color="#cc7832">class </font></span>Meta:<br/>        model = Goods<br/>        <span style="color: #808080"><font color="#808080"># &#25351;&#23450;&#21442;&#25968;&#65292; &#36890;&#36807;Goods&#30340;models&#20013;&#30340;&#23383;&#27573;&#20316;&#26144;&#23556;<br/></font></span><font color="#808080"><span style="color: #808080">        </span></font>fields = (<span style="color: #6a8759"><font color="#6a8759">'name'</font></span><span style="color: #cc7832"><font color="#cc7832">, </font></span><span style="color: #6a8759"><font color="#6a8759">'add_time'</font></span><span style="color: #cc7832"><font color="#cc7832">, </font></span><span style="color: #6a8759"><font color="#6a8759">'click_num'</font></span>)<br/>        <span style="color: #808080"><font color="#808080"># &#20063;&#21487;&#20197;&#25351;&#23450;&#25152;&#26377;<br/></font></span><font color="#808080"><span style="color: #808080">        # fields = '__all__'</span></font></pre>
  </body>
</html>

</richcontent>
</node>
</node>
<node TEXT="&#x8054;&#x8868;&#x67e5;&#x8be2;" ID="ID_1524374427" CREATED="1551364788120" MODIFIED="1551364793808">
<node ID="ID_343327201" CREATED="1551365278510" MODIFIED="1551365278510"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <pre style="background-color: #2b2b2b; color: #a9b7c6; font-family: &#x5b8b;&#x4f53;; font-size: 10.5pt"><span style="color: #cc7832"><font color="#cc7832">class </font></span>CategorySerializer(serializers.ModelSerializer):<br/>    <span style="color: #cc7832"><font color="#cc7832">class </font></span>Meta:<br/>        model = GoodsCategory<br/>        fields = <span style="color: #6a8759"><font color="#6a8759">'__all__'<br/></font></span><font color="#6a8759"><span style="color: #6a8759"><br/></span><span style="color: #6a8759"><br/></span></font><span style="color: #cc7832"><font color="#cc7832">class </font></span>GoodsSerializer(serializers.ModelSerializer):<br/>    <span style="color: #808080"><font color="#808080"># &#29992;&#24207;&#21015;&#21270;&#30340;category&#26367;&#25442;&#40664;&#35748;&#30340;category<br/></font></span><font color="#808080"><span style="color: #808080">    </span></font>category = CategorySerializer()<br/><br/>    <span style="color: #cc7832"><font color="#cc7832">class </font></span>Meta:<br/>        model = Goods<br/>        <span style="color: #808080"><font color="#808080"># &#25351;&#23450;&#21442;&#25968;&#65292; &#36890;&#36807;Goods&#30340;models&#20013;&#30340;&#23383;&#27573;&#20316;&#26144;&#23556;<br/></font></span><font color="#808080"><span style="color: #808080">        # fields = ('name', 'add_time', 'click_num')<br/></span><span style="color: #808080">        # &#20063;&#21487;&#20197;&#25351;&#23450;&#25152;&#26377;<br/></span><span style="color: #808080">        </span></font>fields = <span style="color: #6a8759"><font color="#6a8759">'__all__'</font></span></pre>
  </body>
</html>

</richcontent>
</node>
</node>
</node>
</node>
<node TEXT="&#x5206;&#x9875;" POSITION="right" ID="ID_380476017" CREATED="1551367281343" MODIFIED="1551367283923">
<edge COLOR="#00007c"/>
</node>
</node>
</map>
